# Deep Research: Протоколы тестирования VO2max

## Контекст проекта

**VO2max Report** — универсальная система анализа функциональной диагностики спортсменов. Для правильной интерпретации данных и генерации отчётов система должна понимать различные протоколы тестирования и уметь корректно обрабатывать данные каждого из них.

### Почему это важно

- Разные протоколы дают разные результаты VO2max
- Сравнивать тесты можно только в рамках одного протокола
- Система должна знать, какой протокол использовался, для корректной интерпретации

### Что нужно исследовать

1. **Типы протоколов тестирования**
   - Ramp (рамповые)
   - Step (ступенчатые)
   - Continuous vs Discontinuous

2. **Стандартные лабораторные протоколы**
   - Bruce Protocol (беговая дорожка)
   - Balke Protocol
   - Custom cycling protocols

3. **Критерии достижения VO2max**
   - VO2 plateau
   - RER > 1.10
   - HRmax
   - Blood lactate > 8 mmol/L

4. **Verification phase**
   - Когда нужна верификация?
   - Supramaximal constant-load bout

5. **Связь протокола с интерпретацией данных**

---

## Найденная информация

### Что такое VO2max?

**VO2max** (максимальное потребление кислорода) — золотой стандарт оценки кардиореспираторной выносливости. Показывает максимальный объём кислорода, который организм может усвоить во время интенсивной нагрузки.

**Единицы измерения:**
- Абсолютный: мл/мин или л/мин
- Относительный: мл/кг/мин (более информативен для сравнения)

**Нормативные значения (мл/кг/мин):**
| Уровень | Мужчины | Женщины |
|---------|---------|---------|
| Низкий | < 35 | < 30 |
| Средний | 35-45 | 30-38 |
| Выше среднего | 45-55 | 38-45 |
| Отличный | 55-65 | 45-55 |
| Элитный | > 65 | > 55 |

---

### Типы протоколов тестирования

#### 1. Ramp Protocols (Рамповые)

**Описание:** Непрерывное линейное увеличение нагрузки без дискретных ступеней.

**Характеристики:**
- Увеличение мощности: 20-30 Вт/мин (велоэргометр)
- Увеличение скорости/уклона: непрерывное (беговая дорожка)
- Длительность: оптимально 8-12 минут

**Преимущества:**
- Более точное определение пороговых зон (VT1, VT2)
- Гранулярные данные для анализа
- Меньше артефактов на переходах между ступенями

**Типичный ramp protocol (велоэргометр):**
- Разминка: 3 мин при 50 Вт
- Увеличение: +25 Вт/мин
- До отказа или критериев остановки

---

#### 2. Step Protocols (Ступенчатые)

**Описание:** Дискретные ступени нагрузки с фиксированной длительностью.

**Характеристики:**
- Длительность ступени: 1-3 минуты
- Шаг мощности: 20-50 Вт
- Между ступенями может быть отдых (discontinuous)

**Виды:**
- **Continuous step:** Без пауз между ступенями
- **Discontinuous step:** Краткий отдых (30 сек — 1 мин) для забора лактата

**Типичный step protocol (велоэргометр):**
```
Ступень 1: 100 Вт, 3 мин
Ступень 2: 150 Вт, 3 мин
Ступень 3: 200 Вт, 3 мин
...
До отказа
```

---

#### 3. Bruce Protocol (Беговая дорожка)

**Описание:** Классический протокол для кардиологического тестирования.

**Структура:**
| Stage | Speed (mph) | Grade (%) | Duration |
|-------|-------------|-----------|----------|
| 1 | 1.7 | 10 | 3 min |
| 2 | 2.5 | 12 | 3 min |
| 3 | 3.4 | 14 | 3 min |
| 4 | 4.2 | 16 | 3 min |
| 5 | 5.0 | 18 | 3 min |
| 6 | 5.5 | 20 | 3 min |
| 7 | 6.0 | 22 | 3 min |

**Применение:**
- Кардиологическая диагностика
- Оценка функционального класса
- Менее популярен в спортивной физиологии

---

#### 4. Balke Protocol

**Описание:** Более щадящий протокол на беговой дорожке.

**Характеристики:**
- Постоянная скорость: 3.3 mph
- Увеличение уклона: +1% каждую минуту
- Начальный уклон: 0%

**Применение:**
- Пожилые люди
- Реабилитация
- Низкая физическая подготовка

---

### Критерии достижения истинного VO2max

Для подтверждения того, что спортсмен достиг истинного VO2max, используются следующие критерии:

#### 1. VO2 Plateau (Плато VO2)

**Определение:** Увеличение VO2 < 150 мл/мин (или < 2 мл/кг/мин) при продолжении увеличения нагрузки.

**Проблема:** Плато наблюдается не у всех испытуемых (только 50-60%).

---

#### 2. Respiratory Exchange Ratio (RER)

**Критерий:** RER ≥ 1.10 (некоторые источники ≥ 1.15)

**RER = VCO2 / VO2**

**Интерпретация:**
- RER < 0.85 — преимущественно жировой метаболизм
- RER 0.85-1.00 — смешанный метаболизм
- RER > 1.00 — преимущественно углеводный метаболизм + анаэробный вклад

---

#### 3. Maximal Heart Rate (HRmax)

**Критерий:** Достижение ≥ 90% возрастного HRmax

**Формулы для HRmax:**
- Классическая: 220 - возраст
- Tanaka: 208 - (0.7 × возраст)
- Gellish: 207 - (0.7 × возраст)

**Важно:** Индивидуальная вариабельность ±10-12 уд/мин

---

#### 4. Blood Lactate

**Критерий:** Пост-тестовый лактат > 8 ммоль/л

**Время забора:** 1-3 минуты после окончания теста

**Метод:** Капиллярная кровь из мочки уха или пальца

---

#### 5. Rating of Perceived Exertion (RPE)

**Критерий:** RPE ≥ 17 по шкале Борга (6-20)

| RPE | Описание |
|-----|----------|
| 6 | Никакой нагрузки |
| 9 | Очень лёгкая |
| 11 | Лёгкая |
| 13 | Несколько тяжёлая |
| 15 | Тяжёлая |
| 17 | Очень тяжёлая |
| 19 | Крайне тяжёлая |
| 20 | Максимальное усилие |

---

### Verification Phase (Верификационная фаза)

**Зачем нужна?**

Если во время основного теста не наблюдалось плато VO2, проводится дополнительный тест для подтверждения.

**Протокол:**
1. Отдых 10-20 минут после основного теста
2. Разминка 3-5 минут
3. Supramaximal constant-load bout:
   - Нагрузка: 105-110% от максимальной мощности основного теста
   - Длительность: до отказа (обычно 2-3 минуты)
4. Измерение VO2

**Критерий успешной верификации:**
- VO2 verification ≤ VO2max основного теста + 3%
- Если VO2 verification значительно выше — основной тест не был истинно максимальным

---

### Оптимальная длительность теста

**Рекомендация:** 8-12 минут

**Почему?**
- < 8 минут: недостаточно времени для выхода на VO2max
- > 12 минут: периферическая усталость может ограничить результат раньше центральных факторов

**Подбор протокола:**
1. Оценить текущий фитнес-уровень спортсмена
2. Выбрать начальную нагрузку и шаг
3. Рассчитать предполагаемое время до отказа
4. Скорректировать параметры для попадания в 8-12 мин

---

### Модальность тестирования

#### Велоэргометр

**Преимущества:**
- Точный контроль мощности
- Безопасность (меньше риск падения)
- Стабильный торс для газообмена

**Недостатки:**
- VO2max может быть на 5-10% ниже, чем на дорожке (у не-велосипедистов)
- Локальная мышечная усталость квадрицепсов

---

#### Беговая дорожка

**Преимущества:**
- Более высокие значения VO2max (больше мышечной массы задействовано)
- Естественный паттерн движения для бегунов

**Недостатки:**
- Риск падения при усталости
- Сложнее стандартизировать нагрузку
- Движение торса влияет на газообмен

---

### Как это применить в VO2max Report

#### Хранение информации о протоколе

```python
class TestProtocol(models.Model):
    name = models.CharField(max_length=100)  # "Ramp 25W/min"
    protocol_type = models.CharField(choices=[
        ('ramp', 'Ramp'),
        ('step_continuous', 'Step Continuous'),
        ('step_discontinuous', 'Step Discontinuous'),
    ])
    modality = models.CharField(choices=[
        ('cycle', 'Cycle Ergometer'),
        ('treadmill', 'Treadmill'),
        ('rowing', 'Rowing Ergometer'),
    ])
    
    # Параметры протокола
    warmup_duration_sec = models.IntegerField()
    warmup_power_watts = models.IntegerField(null=True)
    start_power_watts = models.IntegerField(null=True)
    power_increment_watts = models.IntegerField(null=True)
    stage_duration_sec = models.IntegerField(null=True)  # Для step protocols
    increment_rate_watts_per_min = models.FloatField(null=True)  # Для ramp
```

#### Автоматическое определение критериев VO2max

```python
def check_vo2max_criteria(measurement):
    """Проверяет достижение истинного VO2max."""
    criteria = {
        'plateau': False,
        'rer_above_1.10': False,
        'hr_above_90_percent': False,
        'rpe_above_17': False,
    }
    
    items = measurement.measurementitems.order_by('time_seconds')
    
    # Проверка плато
    last_3 = items.filter(use_in_report=True).order_by('-time_seconds')[:3]
    if len(last_3) >= 3:
        vo2_range = max(i.vo2_ml_min for i in last_3) - min(i.vo2_ml_min for i in last_3)
        criteria['plateau'] = vo2_range < 150
    
    # Проверка RER
    max_rer = items.aggregate(Max('rer'))['rer__max'] or 0
    criteria['rer_above_1.10'] = max_rer >= 1.10
    
    # Проверка HR
    max_hr = items.aggregate(Max('hr'))['hr__max'] or 0
    age = calculate_age(measurement.client.birth_date)
    predicted_hrmax = 208 - (0.7 * age)
    criteria['hr_above_90_percent'] = max_hr >= 0.9 * predicted_hrmax
    
    return criteria
```

---

## Вопросы для дальнейшего исследования

1. **Специфические протоколы для разных видов спорта**
   - Rowing protocols
   - Swimming-specific tests
   - Sport-specific field tests

2. **Детская кардиопульмонология**
   - Какие протоколы используются для детей?
   - Критерии VO2max для детей отличаются?

3. **Протоколы для лиц с ограниченными возможностями**
   - Arm crank ergometry
   - Wheelchair ergometry

4. **Стандартизация отчётности**
   - Какие организации определяют стандарты (ACSM, BASES)?
   - Обязательные поля в отчёте

---

## Источники

1. American College of Sports Medicine. (2021). ACSM's Guidelines for Exercise Testing and Prescription.
2. Beltz, N. M., et al. (2016). Graded Exercise Testing Protocols for the Determination of VO2max.
3. Midgley, A. W., et al. (2007). Criteria for determination of maximal oxygen uptake.
4. Poole, D. C., & Jones, A. M. (2017). Measurement of the maximum oxygen uptake VO2max.
5. Edvardsen, E., et al. (2014). End criteria for reaching maximal oxygen uptake must be strict.

---

*Документ создан: 2025-12-28*
*Статус: Базовая информация собрана, требуется расширение по специфическим протоколам*
